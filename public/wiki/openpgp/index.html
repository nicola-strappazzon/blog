<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  
    <title>OpenPGP :: Nicola Strappazzon</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Wiki / OpenPGP comentar que hay que tener en cuenta que no todas las Security Key soportan openpgp, y la que lo soportan, se debe asegurar que tambien soporte el cifrado deseado.
token2 RSA2048 yubico RSA4096 Dividimos el documento en dos secciones, la configuracion propietaria del dispositivo, y la del cifrado.
" />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="http://localhost:1313/wiki/openpgp/" />





  
  <link rel="stylesheet" href="http://localhost:1313/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/code.min.a3670726bb66927824e4c3fa3f20388aacc1e7aa65014ae144e350ce59593b78.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/main.min.4981dda6081958c87609117a198c2c7fe573f29c232705d33861c57399c39c42.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/terminal.min.e24bf84cafb9e94502324a0c4264d65e9ed1870838db3e47393dfaa83dd5abb4.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">







<link rel="shortcut icon" href="http://localhost:1313/favicon.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="website" />
<meta property="og:title" content="OpenPGP">
<meta property="og:description" content="Wiki / OpenPGP comentar que hay que tener en cuenta que no todas las Security Key soportan openpgp, y la que lo soportan, se debe asegurar que tambien soporte el cifrado deseado.
token2 RSA2048 yubico RSA4096 Dividimos el documento en dos secciones, la configuracion propietaria del dispositivo, y la del cifrado.
" />
<meta property="og:url" content="http://localhost:1313/wiki/openpgp/" />
<meta property="og:site_name" content="Nicola Strappazzon" />

  <meta property="og:image" content="http://localhost:1313/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2025-05-09 10:56:29 &#43;0200 CEST" />




  <link href="/wiki/openpgp/index.xml" rel="alternate" type="application/rss+xml" title="Nicola Strappazzon" />









</head>
<body>


<div class="container center">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="http://localhost:1313/">
  <div class="logo">
    Nicola Strappazzon
  </div>
</a>

    </div>
    
    
  </div>
  
</header>


  <div class="content">
    
  
    <div class="index-content">
      <h1 id="wiki--openpgp">Wiki / OpenPGP</h1>
<p>comentar que hay que tener en cuenta que no todas las Security Key soportan openpgp, y la que lo soportan, se debe asegurar que tambien soporte el cifrado deseado.</p>
<ul>
<li><a href="https://www.token2.eu/">token2</a> RSA2048</li>
<li><a href="https://www.yubico.com/">yubico</a> RSA4096</li>
</ul>
<p>Dividimos el documento en dos secciones, la configuracion propietaria del dispositivo, y la del cifrado.</p>

    </div>
  
  <div class="posts">
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/wiki/openpgp/import/">Importar desde un USB Security Key</a>
        </h2>
        <div class="post-meta"><time class="post-date">2025-05-09</time></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/bash/">bash</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/security/">security</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/yubikey/">yubikey</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/openpgp/">openpgp</a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <h2 id="openpgp">OpenPGP</h2>
<p>En <a href="https://keys.openpgp.org">esta URL</a> puedes validar la identidad de una persona buscando su clave publica, por lo que se recomienda subir la propia.</p>
<h2 id="importar-desde-security-key-al-local">Importar desde Security Key al local</h2>
<p>La clave privada se queda dentro de la Security Key y es imposible extraerla, lo que se hace es importar la clave publica e indicar que la clave privada está dentro de una Security Key.</p>
<ol>
<li>Obtener la clave directamente desde la Security Key:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gpg --card-status
</span></span></code></pre></div><p>Esto debería mostrar información sobre la Security Key, incluyendo el Keygrip y el Key ID.</p>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/wiki/openpgp/import/">[]</a>
          </div>
        
      </article>
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/wiki/openpgp/restore/">OpenPGP / Import backup files</a>
        </h2>
        <div class="post-meta"><time class="post-date">2025-05-09</time></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/bash/">bash</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/security/">security</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/yubikey/">yubikey</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/openpgp/">openpgp</a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <h3 id="importar-un-respaldo-de-los-certificados">Importar un respaldo de los certificados</h3>
<p>Supongamos que tiene una copia de seguridad de la clave prublica y privada, use los siguientes comandos para importarlos y por último veridique:</p>
<pre tabindex="0"><code>gpg --import myprivatekeys.asc
gpg --import mypubkeys.asc
gpg --import-ownertrust otrust.txt
gpg --list-secret-keys
gpg --list-keys
</code></pre>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/wiki/openpgp/restore/">[]</a>
          </div>
        
      </article>
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/wiki/openpgp/security-key/">OpenPGP / Security Key</a>
        </h2>
        <div class="post-meta"><time class="post-date">2025-05-09</time></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/bash/">bash</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/security/">security</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/yubikey/">yubikey</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/openpgp/">openpgp</a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <h3 id="exportar-los-certificados-a-la-security-key">Exportar los certificados a la Security Key</h3>
<p>Al insertar la Security Key podrá ejecutar el siguiente comando para listar los detalles.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ gpg --card-status
</span></span></code></pre></div><p>Al ser nueva, observará algo como esto:</p>
<pre tabindex="0"><code>Reader ...........: Yubico YubiKey OTP FIDO CCID
Application ID ...: A0123456789012345678901234567890
Application type .: OpenPGP
Version ..........: 3.4
Manufacturer .....: Yubico
Serial number ....: 12345678
Name of cardholder: [not set]
Language prefs ...: [not set]
Salutation .......:
URL of public key : [not set]
Login data .......: [not set]
Signature PIN ....: not forced
Key attributes ...: rsa2048 rsa2048 rsa2048
Max. PIN lengths .: 127 127 127
PIN retry counter : 3 0 3
Signature counter : 0
KDF setting ......: off
UIF setting ......: Sign=off Decrypt=off Auth=off
Signature key ....: [none]
Encryption key....: [none]
Authentication key: [none]
General key info..: [none]
</code></pre><p>Ahora vamos a configurarla, y vamos hacer todo esto antes de exportar la clave privada.</p>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/wiki/openpgp/security-key/">[]</a>
          </div>
        
      </article>
    
      <article class="post on-list">
        <h2 class="post-title">
          <a href="http://localhost:1313/wiki/openpgp/yubikey/">YubiKey</a>
        </h2>
        <div class="post-meta"><time class="post-date">2025-05-09</time></div>

        
          <span class="post-tags">
            
            #<a href="http://localhost:1313/tags/bash/">bash</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/security/">security</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/yubikey/">yubikey</a>&nbsp;
            
            #<a href="http://localhost:1313/tags/openpgp/">openpgp</a>&nbsp;
            
          </span>
        

        


        <div class="post-content">
          
            <h2 id="yubikey">YubiKey</h2>
<p><a href="https://github.com/Yubico/yubikey-manager">YubiKey Manager CLI</a></p>
<h3 id="reiniciar">Reiniciar</h3>
<p>Con el siguiente comando, podra borrar la información importante guardada en la Yubikey.</p>
<pre tabindex="0"><code>gpg-connect-agent &lt;&lt;EOF
/hex
scd serialno
scd apdu 00 20 00 81 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 81 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 81 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 81 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 83 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 83 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 83 08 40 40 40 40 40 40 40 40
scd apdu 00 20 00 83 08 40 40 40 40 40 40 40 40
scd apdu 00 e6 00 00
scd apdu 00 44 00 00
/echo Yubikey has been successfully reset.
/echo The factory default PINs are 123456 (user) and 12345678 (admin).
EOF
</code></pre>
          
        </div>

        
           <div>
            <a class="read-more button inline" href="/wiki/openpgp/yubikey/">[]</a>
          </div>
        
      </article>
    

    <div class="pagination">
  <div class="pagination__buttons">
    
    
    
  </div>
</div>

  </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">
        <span>© 2025 Nicola Strappazzon</span>
    
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
